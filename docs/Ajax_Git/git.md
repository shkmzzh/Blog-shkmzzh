---
title: Gitå‘½ä»¤ä¿®ç‚¼å®å…¸
date: 
tags:
- Git
---

<img src='https://img-blog.csdnimg.cn/40376241fa6642d095d007e8acde085c.png'>

## è´¦æˆ·é…ç½®

- é…ç½®å…¨å±€è´¦æˆ·ï¼Œå¯¹æ‰€æœ‰ Git ä»“åº“æœ‰æ•ˆ

```bash
git config --global user.name 'Your Name'
git config --global user.email 'Your Email'
```

- é…ç½®å±€éƒ¨è´¦æˆ·ï¼Œåªå¯¹å½“å‰ Git ä»“åº“æœ‰æ•ˆ

```bash
git config --local user.name 'Your Name'
git config --local user.email 'Your Email'
```

- æŸ¥çœ‹å…¨å±€é…ç½®

```bash
git config --global --list
```

- æŸ¥çœ‹å±€éƒ¨é…ç½®

```bash
git config --local --list
```

## æœ¬åœ°åŸºæœ¬æ“ä½œ

### åˆå§‹åŒ–æœ¬åœ°åº“

```bash
git init
```

### æŸ¥çœ‹çŠ¶æ€

```bash
git status
# or
git status -s
```

### æ·»åŠ æš‚å­˜åŒº git add

- ğŸ”å°†å½“å‰ç›®å½•åŠå…¶å­ç›®å½•ä¸‹æ‰€æœ‰å˜æ›´æ·»åŠ åˆ°æš‚å­˜åŒº

```bash
git add .
```

- å°†æœ¬åœ°åº“æ‰€æœ‰å˜æ›´æ·»åŠ åˆ°æš‚å­˜åŒº

```bash
git add -A
```

- æŒ‡å®šæ–‡ä»¶æ·»åŠ æš‚å­˜åŒº

```bash
git add file1 file2 ...
```

### æäº¤æœ¬åœ°åº“ git commit

- ğŸ”å°†æ–‡ä»¶ç”± æš‚å­˜åŒº æ·»åŠ åˆ° æœ¬åœ°ä»“åº“åŒºï¼Œç”Ÿæˆç‰ˆæœ¬å·

```bash
git commit -m 'æäº¤ä¿¡æ¯'
```

- ç›´æ¥å®Œæˆ add ä¸ commitæ“ä½œï¼Œåªå½±å“æ›¾ç»è¢« git add è¿‡çš„æ–‡ä»¶

```bash
git commit -a -m 'æäº¤ä¿¡æ¯'
```

- ä¿®æ”¹æœ€è¿‘çš„ä¸€æ¬¡æäº¤è¯´æ˜ï¼Œ å¦‚æœæäº¤è¯´æ˜ä¸å°å¿ƒè¾“é”™äº†ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªå‘½ä»¤

```bash
git commit --amend -m 'æäº¤ä¿¡æ¯'
```

- æäº¤æŒ‡å®šæ–‡ä»¶

```bash
git commit -m 'æäº¤ä¿¡æ¯' fileName
```

## æ¯”è¾ƒå·®å¼‚ git diff

1. æ¯”è¾ƒå·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„æ‰€æœ‰å·®å¼‚ï¼Œåªèƒ½æŸ¥çœ‹æ—§æ–‡ä»¶çš„å˜æ›´ï¼ˆåŒ…æ‹¬ä¿®æ”¹å’Œåˆ é™¤ï¼‰ï¼Œä¸èƒ½æŸ¥çœ‹æ–°æ–‡ä»¶ï¼ˆå› ä¸ºæ–°æ–‡ä»¶è¿˜ä¸ºè¢« git è¿½è¸ªï¼‰

```bash
git diff
```

2. æ¯”è¾ƒæŒ‡å®šæ–‡ä»¶å·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„å·®å¼‚

```bash
git diff fileName
```

3. æ¯”è¾ƒæš‚å­˜åŒºå’Œ HEAD çš„æ‰€æœ‰å·®å¼‚

```bash
git diff --cached
```

4. æ¯”è¾ƒæŒ‡å®šæ–‡ä»¶æš‚å­˜åŒºå’Œ HEAD çš„å·®å¼‚

```bash
git diff --cached fileName
```

5. æ¯”è¾ƒä¸¤ä¸ªç‰ˆæœ¬çš„å·®å¼‚

- ä»¥å‰è€…ä¸ºåŸºå‡†çœ‹åè€…çš„å˜åŒ–
- HEAD è¡¨ç¤ºæœ€åä¸€æ¬¡ commit å¯¹åº”çš„ç‰ˆæœ¬ï¼ŒHEAD~1 å¾€å‰ä¸€ä¸ªç‰ˆæœ¬

```bash
git diff ç‰ˆæœ¬å·1 ç‰ˆæœ¬å·2
```

```bash
git diff HEAD~1 HEAD
git diff HEAD~2 HEAD
```

6. æ¯”è¾ƒä¸¤ä¸ªåˆ†æ”¯æŒ‡å®šæ–‡ä»¶çš„å·®å¼‚

```bash
git diff åˆ†æ”¯1 åˆ†æ”¯2 fileName
```

## æŸ¥çœ‹æ—¥å¿—ä¿¡æ¯ git log

1. æŸ¥çœ‹ç®€è¦æ—¥å¿—ä¿¡æ¯

```bash
git reflog
```

2. ğŸ”æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ä¿¡æ¯

```bash
git log
```

3. æŸ¥çœ‹æç®€æ—¥å¿—ä¿¡æ¯

```bash
git log --oneline
```

4. æŸ¥çœ‹æœ€è¿‘ ç¬¬ n æ¬¡çš„ç‰ˆæœ¬ä¿¡æ¯

```bash
git log -n
```

5. æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯çš„ç‰ˆæœ¬å†å²

```bash
git log --all
```

6. ä»¥å›¾å½¢å½¢å¼å±•ç¤ºç‰ˆæœ¬å†å²

```bash
git log --graph
```

7. æŸ¥çœ‹æ¶‰åŠåˆ°æŒ‡å®šæ–‡ä»¶çš„ commit è®°å½•

```bash
git log fileName
```

8. æŸ¥çœ‹æŒ‡å®šæ–‡ä»¶æ¯ä¸€è¡Œä¿®æ”¹å¯¹åº”çš„ commit è®°å½•å’Œä½œè€…

```bash
git blame fileName
```

## åˆ†æ”¯å‘½ä»¤

### åˆ›å»ºåˆ†æ”¯

- ğŸ”åŸºäºå½“å‰åˆ†æ”¯åˆ›å»ºåˆ†æ”¯ï¼Œæ–°åˆ†æ”¯çš„ä»£ç ä¸å½“å‰çš„ä»£ç å®Œå…¨ç›¸åŒ

```bash
git branch æ–°åˆ†æ”¯
```

- åŸºäºæŒ‡å®šåˆ†æ”¯åˆ›å»ºåˆ†æ”¯

```bash
git branch æ–°åˆ†æ”¯ å·²æœ‰åˆ†æ”¯
```

- åŸºäºæŸä¸ª commit åˆ›å»ºåˆ†æ”¯

```bash
git branch æ–°åˆ†æ”¯ commitID
```



### æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯

- ğŸ”ç”¨äºæŸ¥çœ‹å­˜åœ¨çš„æ‰€æœ‰åˆ†æ”¯ * æ‰€åœ¨çš„è¡¨ç¤ºå½“å‰åˆ†æ”¯

```bash
git branch
```

- æŸ¥çœ‹åˆ†æ”¯æäº¤ä¿¡æ¯

```bash
git branch -v
```
- ğŸ”æŸ¥çœ‹ä»“åº“æ‰€æœ‰åˆ†æ”¯ï¼ŒåŒ…æ‹¬è¿œç¨‹ä»“åº“åˆ†æ”¯
```bash
git branch -a
```

### åˆ é™¤åˆ†æ”¯

- ğŸ”åˆ é™¤æœ¬åœ°åˆ†æ”¯
- æ³¨æ„ï¼šä¸èƒ½åœ¨å½“å‰åˆ†æ”¯åˆ é™¤å½“å‰åˆ†æ”¯ï¼Œéœ€è¦åˆ‡æ¢åˆ°åˆ«çš„åˆ†æ”¯æ‰å¯ä»¥åˆ é™¤

```bash
git branch -d åˆ†æ”¯åç§°
```

- å¦‚æœå½“å‰åˆ†æ”¯æœ‰æäº¤ï¼Œæˆ–æ²¡æœ‰è¿›è¡Œåˆå¹¶ï¼Œæ˜¯æ— æ³•ä½¿ç”¨ -d åˆ é™¤ ï¼Œéœ€è¦ä½¿ç”¨ -D

```bash
git branch -D åˆ†æ”¯åç§°
```

### åˆ‡æ¢åˆ†æ”¯

ğŸ”ç”¨äºåˆ‡æ¢åˆ†æ”¯

```bash
git checkout åˆ†æ”¯å
```

ğŸ”ç”¨äºåˆ›å»ºæ–°åˆ†æ”¯åŒæ—¶åˆ‡æ¢åˆ†æ”¯

```bash
git checkout -b åˆ†æ”¯å
```

### åˆå¹¶åˆ†æ”¯

`merge` å’Œ `rebase`çš„åŒºåˆ«æœ‰å¾…å­¦ä¹ å®è·µ :worried:

- ğŸ”å°†å…¶ä»–åˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯

```bash
git merge åˆ†æ”¯å
```

- å°† A åˆ†æ”¯åˆå¹¶åˆ° B åˆ†æ”¯ï¼Œä¸”ä¸º merge åˆ›å»º commit

```bash
git merge A B
```

- æŠŠå½“å‰åˆ†â½€åŸºäº B åˆ†â½€åš rebaseï¼Œä»¥ä¾¿æŠŠ B åˆ†â½€åˆâ¼Šåˆ°å½“å‰åˆ†â½€

```bash
git rebase B
```

- æŠŠ A åˆ†â½€åŸºäº B åˆ†â½€åš rebaseï¼Œä»¥ä¾¿æŠŠ B åˆ†â½€åˆâ¼Šåˆ° A åˆ†â½€

```bash
git rebase B A
```

## é‡ç½®ç‰ˆæœ¬

- ç”¨å¤„ï¼šå°†ä»£ç æ¢å¤åˆ°ä¹‹å‰çš„æŸä¸ªæäº¤è¿‡çš„ç‰ˆæœ¬

> å‘½ä»¤ ï¼šgit reset ç‰ˆæœ¬å· --hard

- å°†å·¥ä½œåŒºé‡ç½®ä¸ºå½“å‰ç‰ˆæœ¬

```bash
git reset head --hard
```

- ğŸ”å°†ä»£ç æ¢å¤åˆ°ä¹‹å‰çš„æŸä¸ªæäº¤è¿‡çš„ç‰ˆæœ¬

```bash
git reset head~0 --hard
â€‹		head~0 		é‡ç½®å›æœ€è¿‘ä¸€æ¬¡æäº¤çš„ç‰ˆæœ¬
â€‹		head~1		é‡ç½®å›ä¸Šä¸Šä¸€æ¬¡æäº¤çš„ç‰ˆæœ¬
â€‹		head~2		é‡ç½®å›ä¸Šä¸Šä¸Šä¸€æ¬¡æäº¤çš„ç‰ˆæœ¬
```

## ä¿®æ”¹ commit è®°å½•

1. å¾€æœ€åä¸€æ¬¡ commit è¿½åŠ è®°å½•ï¼Œè€Œä¸æ–°å»º commit - [reference](https://segmentfault.com/a/1190000038535534)

```bash
git commit --amend
```

2. åˆå¹¶ commit è®°å½• - [reference](https://www.jianshu.com/p/4a8f4af4e803)

```bash
git rebase -i HEAD~2
```

## è¿œç¨‹ä»“åº“äº¤äº’

### git remote

1. æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹ä»“åº“åœ°å€åˆ«å

```bash
git remote -v
```

2. ğŸ”ä¸ºè¿œç¨‹ä»“åº“èµ·åˆ«å  ä¸€èˆ¬èµ·åä¸º *origin*

```bash
git remote add åˆ«å åœ°å€
```

3. åˆ é™¤è¿œç¨‹ä»“åº“åˆ«å

```bash
git remote remove åˆ«å
```

4. ä¿®æ”¹åˆ«å

```bash
git remote rename æ—§å æ–°å
```

### git clone

1. ğŸ”å…‹éš†è¿œç¨‹ä»“åº“åˆ°æœ¬åœ°

```bash
git clone åœ°å€
```

2. å…‹éš†è¿œç¨‹ä»“åº“æŒ‡å®šåˆ†æ”¯åˆ°æœ¬åœ°

```bash
git clone -b è¿œç¨‹ä»“åº“åˆ†æ”¯å åœ°å€
```

### git pull

1. ğŸ”æ‹‰å–è¿œç¨‹åˆ†æ”¯ï¼Œå¹¶ä¸æœ¬åœ°åˆ†æ”¯åˆå¹¶

```bash
git pull åˆ«å åˆ†æ”¯å
```

### git push

1. ğŸ”æ¨é€æœ¬åœ°æŒ‡å®šåˆ†æ”¯åˆ°ä»“åº“æŒ‡å®šåˆ†æ”¯

```bash
git push åˆ«å æœ¬åœ°åˆ†æ”¯:è¿œç¨‹åˆ†æ”¯
```

2. å¦‚æœè¿œç¨‹åˆ†æ”¯è¢«çœç•¥ï¼Œè¡¨ç¤ºå°†æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°ä¸ä¹‹å­˜åœ¨è¿½è¸ªå…³ç³»çš„è¿œç¨‹åˆ†æ”¯ï¼ˆé€šå¸¸ä¸¤è€…åŒåï¼‰ï¼Œå¦‚æœè¯¥è¿œç¨‹åˆ†æ”¯ä¸å­˜åœ¨ï¼Œåˆ™ä¼šè¢«æ–°å»º

```bash
git push origin master
```

3. å¦‚æœçœç•¥æœ¬åœ°åˆ†æ”¯åï¼Œç­‰åŒäºæ¨é€ä¸€ä¸ªç©ºçš„æœ¬åœ°åˆ†æ”¯åˆ°è¿œç¨‹åˆ†æ”¯ï¼Œè¡¨ç¤ºåˆ é™¤æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯ï¼Œç­‰åŒäº

```bash
git push origin :master
# ç­‰åŒäº
git push origin --delete master
```

4. å¼ºåˆ¶æ¨é€

```bash
git push --force origin master
```

